import{c as ne,a as Ie,B as x,r as d,u as K,b as xe,d as P,j as e,L as me,R as Le,s as fe,F as p,e as k,T as de,M as N,I as S,U as Z,m as g,f as J,g as ie,C as z,h as A,S as ce,i as ue,E as he,D as pe,k as je,l as ze,n as De,P as _e,N as Ue,O as Ve,o as Ee,p as Me,q as U,t as le,v as Fe,w as Te,x as Oe}from"./vendor-a42efc4a.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();const be=ne({name:"auth",initialState:{user:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,registerMessage:null,notRegisterMessage:null,isEmailVerified:!1},reducers:{login(t,s){t.user=s.payload,t.registerMessage=null},logout(t){t.user=null},notRegister(t,s){t.notRegisterMessage=s.payload},register(t,s){t.registerMessage=s.payload},setUserPhoto(t,s){t.user.profilePhoto=s.payload},setUsername(t,s){t.user.username=s.payload},setIsEmailVerified(t){t.isEmailVerified=!0,t.registerMessage=null}}}),qe=be.reducer,oe=be.actions,j=Ie.create({baseURL:"https://www.bionicsoul.net/api"});function Re(t){return async s=>{try{const{data:r}=await j.post("auth/login",t);s(oe.login(r)),localStorage.setItem("userInfo",JSON.stringify(r))}catch(r){x.error(r.response.data.message)}}}function Be(){return t=>{t(oe.logout()),localStorage.removeItem("userInfo")}}function We(t){return async s=>{try{const{data:r}=await j.post("auth/register",t);s(oe.register(r.message))}catch(r){s(oe.notRegister(r.response.data.message))}}}function ye(){const[t,s]=d.useState(""),[r,n]=d.useState(""),[l,c]=d.useState(""),f=K(),y=xe(),{user:w,error:b}=P(h=>h.auth);d.useEffect(()=>{w&&y("/dashboard"),b&&c(b)},[w,b,y]);const v=h=>{if(h.preventDefault(),!t||!r){c("Veuillez remplir tous les champs.");return}f(Re({email:t,password:r}))};return e.jsxs("div",{children:[e.jsx("div",{className:"container position-sticky z-index-sticky top-0",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12"})})}),e.jsx("main",{className:"main-content mt-0",children:e.jsx("section",{children:e.jsx("div",{className:"page-header min-vh-75",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xl-4 col-lg-5 col-md-6 d-flex flex-column mx-auto",children:e.jsxs("div",{className:"card card-plain mt-8",children:[e.jsxs("div",{className:"card-header pb-0 text-left bg-transparent",children:[e.jsx("h3",{className:"font-weight-bolder text-info text-gradient",children:"Welcome back"}),e.jsx("p",{className:"mb-0",children:"Enter your email and password to sign in"})]}),e.jsxs("div",{className:"card-body",children:[l&&e.jsx("div",{className:"alert alert-danger",children:l}),e.jsxs("form",{onSubmit:v,children:[e.jsx("label",{children:"Email"}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{value:t,type:"email",className:"form-control",placeholder:"Email","aria-label":"Email","aria-describedby":"email-addon",onChange:h=>s(h.target.value)})}),e.jsx("label",{children:"Password"}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{value:r,type:"password",className:"form-control",placeholder:"Password","aria-label":"Password","aria-describedby":"password-addon",onChange:h=>n(h.target.value)})}),e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"rememberMe"}),e.jsx("label",{className:"form-check-label",htmlFor:"rememberMe",children:"Remember me"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"submit",className:"btn bg-gradient-info w-100 mt-4 mb-0",children:"Sign in"})})]})]}),e.jsx("div",{className:"card-footer text-center pt-0 px-lg-2 px-1",children:e.jsxs("p",{className:"mb-4 text-sm mx-auto",children:["Don't have an account?",e.jsx(me,{to:"/register",className:"text-info text-gradient font-weight-bold",children:"Sign up"})]})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"oblique position-absolute top-0 h-100 d-md-block d-none me-n8",children:e.jsx("div",{className:"oblique-image bg-cover position-absolute fixed-top ms-auto h-100 z-index-0 ms-n6",style:{backgroundImage:"url('./assets/img/curved-images/curved6.jpg')"}})})})]})})})})})]})}function $e(){const t=K(),{registerMessage:s,notRegisterMessage:r}=P(h=>h.auth),[n,l]=d.useState(""),[c,f]=d.useState(""),[y,w]=d.useState(""),b=xe(),v=h=>{h.preventDefault(),t(We({name:n,email:c,password:y}))};return Le.useEffect(()=>{s&&fe({title:s,icon:"success"}).then(h=>{h&&b("/login")}),r&&fe({title:r,icon:"info"}).then(h=>{h&&t(oe.notRegister(null))})},[s,r,t,b]),e.jsx("div",{children:e.jsx("main",{className:"main-content mt-0",children:e.jsxs("section",{className:"min-vh-100 mb-8",children:[e.jsxs("div",{className:"page-header align-items-start min-vh-50 pt-5 pb-11 m-3 border-radius-lg",style:{backgroundImage:"url('./assets/img/curved-images/curved14.jpg')"},children:[e.jsx("span",{className:"mask bg-gradient-dark opacity-6"}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-lg-5 text-center mx-auto",children:[e.jsx("h1",{className:"text-white mb-2 mt-5",children:"Welcome!"}),e.jsx("p",{className:"text-lead text-white",children:"Use these awesome forms to login or create new account in your project for free."})]})})})]}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"row mt-lg-n10 mt-md-n11 mt-n10",children:e.jsx("div",{className:"col-xl-4 col-lg-5 col-md-7 mx-auto",children:e.jsxs("div",{className:"card z-index-0",children:[e.jsx("div",{className:"card-header text-center pt-4",children:e.jsx("h5",{children:"Register with"})}),e.jsx("div",{className:"row px-xl-5 px-sm-4 px-3"}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:v,children:[e.jsx("div",{className:"mb-3",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Name","aria-label":"Name","aria-describedby":"name-addon",value:n,onChange:h=>l(h.target.value)})}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{type:"email",className:"form-control",placeholder:"Email","aria-label":"Email","aria-describedby":"email-addon",value:c,onChange:h=>f(h.target.value)})}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{type:"password",className:"form-control",placeholder:"Password","aria-label":"Password","aria-describedby":"password-addon",value:y,onChange:h=>w(h.target.value)})}),e.jsxs("div",{className:"form-check form-check-info text-left",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault"}),e.jsxs("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:["I agree to the ",e.jsx("a",{className:"text-dark font-weight-bolder",children:"Terms and Conditions"})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"submit",className:"btn bg-gradient-dark w-100 my-4 mb-2",children:"Sign up"})}),e.jsxs("p",{className:"text-sm mt-3 mb-0",children:["Already have an account? ",e.jsx(me,{to:"/login",className:"text-dark font-weight-bolder",children:"Sign in"})]})]})})]})})})})]})})})}const ve=ne({name:"product",initialState:{product:null,loading:!1,productsCount:null,isProductCreated:!1,products:[]},reducers:{setProduct(t,s){t.product=s.payload},addProduct(t,s){t.products.push(s.payload)},updateProduct(t,s){const r=t.products.findIndex(n=>n._id===s.payload._id);r!==-1&&(t.products[r]=s.payload)},deleteProduct(t,s){t.products=t.products.filter(r=>r._id!==s.payload)},setLoading(t){t.loading=!0},clearLoading(t){t.loading=!1},setProductsCount(t,s){t.productsCount=s.payload},setProducts(t,s){t.products=s.payload}}}),Ze=ve.reducer,E=ve.actions;function Je(t){return async s=>{try{const{data:r}=await j.get(`/product/${t}`);s(E.setProduct(r))}catch(r){x.error(r.response.data.message)}}}function Ke(t){return async(s,r)=>{try{const{data:n}=await j.post("/product",t,{headers:{Authorization:"Bearer "+r().auth.user.token}});s(E.addProduct(n)),x.success(n.message)}catch(n){x.error(n.response.data.message)}}}function He(t,s){return async(r,n)=>{try{const{data:l}=await j.put(`/product/${t}`,s,{headers:{Authorization:"Bearer "+n().auth.user.token}});r(E.updateProduct(l)),x.success(l.message)}catch(l){x.error(l.response.data.message)}}}function Ge(t){return async(s,r)=>{try{s(E.setLoading());const{data:n}=await j.delete(`/product/delete/${t}`,{headers:{Authorization:"Bearer "+r().auth.user.token}});s(E.deleteProduct(t)),x.success(n.message),s(E.clearLoading())}catch(n){x.error(n.response.data.message),s(E.clearLoading())}}}function Ye(){return async(t,s)=>{try{t(E.setLoading());const{data:r}=await j.get("/product/all",{headers:{Authorization:"Bearer "+s().auth.user.token}});t(E.setProducts(r)),t(E.clearLoading())}catch(r){x.error(r.response.data.message),t(E.clearLoading())}}}const Qe=()=>{var i;const[t]=p.useForm(),s=K(),r=P(a=>a.product.products),{loading:n,isPostCreated:l}=P(a=>a.product),c=P(a=>a.product.product),[f,y]=d.useState(""),[w,b]=d.useState(""),[v,h]=d.useState(0),[m,C]=d.useState(null),[L,I]=d.useState(!1),[D,_]=d.useState(!1),[O,q]=d.useState(!1),[R,B]=d.useState(null),{confirm:H}=N;d.useEffect(()=>{s(Ye())},[s]);const G=()=>{t.resetFields(),B(null),C(null),I(!0)},Y=a=>{B(a),t.setFieldsValue({title:a.title,price:a.price,description:a.description}),_(!0)},Q=a=>{q(!0),s(Je(a))},X=()=>{q(!1)},ee=()=>{I(!1)},te=()=>{_(!1)},se=a=>{H({title:"Are you sure you want to delete this partner?",content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk:()=>{s(Ge(a)),g.success("Partner deleted successfully")},onCancel(){g.info("Deletion canceled")}})},ae=async a=>{try{const u=new FormData;if(u.append("title",f),u.append("price",v),u.append("description",w),m)u.append("image",m);else{g.error("Veuillez sélectionner une image.");return}await s(Ke(u)),I(!1),t.resetFields(),g.success("Produit ajouté avec succès")}catch{g.error("Erreur lors de l'ajout du produit")}},$=async a=>{const u={title:a.title,price:a.price,description:a.description};m&&(u.image=m),await s(He(R._id,u)),I(!1),t.resetFields(),C(null),_(!1),g.success("Produit mis à jour avec succès!")},o=[{title:"Nom du produit",dataIndex:"title",key:"title",render:a=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a})},{title:"Description",dataIndex:"description",key:"description",render:a=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a})},{title:"Prix",dataIndex:"price",key:"price",render:a=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a})},{title:"Image",dataIndex:"image",key:"image",render:(a,u)=>{var W;return e.jsx(A,{width:50,src:(W=u==null?void 0:u.image)==null?void 0:W.url,placeholder:e.jsx(A,{src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200",width:50})})}},{title:"Actions",key:"actions",render:(a,u)=>e.jsxs(ce,{size:"middle",children:[e.jsx(ue,{style:{fontSize:"20px",cursor:"pointer",marginLeft:"20px"},onClick:()=>Q(u._id)}),e.jsx(he,{style:{fontSize:"20px",cursor:"pointer",marginLeft:"20px"},onClick:()=>Y(u)}),e.jsx(pe,{style:{fontSize:"20px",color:"red",cursor:"pointer",marginLeft:"20px"},onClick:()=>se(u._id)})]})}];return e.jsxs("div",{children:[e.jsx(k,{type:"primary",onClick:G,style:{marginBottom:16},children:"Ajouter un produit"}),e.jsx(de,{columns:o,dataSource:r,loading:n,rowKey:"_id"}),e.jsx(N,{title:"Ajouter un produit",open:L,onCancel:ee,footer:null,children:e.jsxs(p,{form:t,onFinish:ae,layout:"vertical",children:[e.jsx(p.Item,{name:"title",label:"Nom du produit",rules:[{required:!0,message:"Veuillez entrer le nom du produit"}],children:e.jsx(S,{value:f,onChange:a=>y(a.target.value)})}),e.jsx(p.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Veuillez entrer la description du produit"}],children:e.jsx(S.TextArea,{value:w,onChange:a=>b(a.target.value)})}),e.jsx(p.Item,{name:"price",label:"Prix",rules:[{required:!0,message:"Veuillez entrer le prix du produit"}],children:e.jsx(S,{value:v,onChange:a=>h(a.target.value)})}),e.jsx(p.Item,{name:"image",label:"Image du produit",valuePropName:"fileList",getValueFromEvent:a=>Array.isArray(a)?a:a&&a.fileList,rules:[{required:!0,message:"Veuillez sélectionner une image"}],children:e.jsx(Z,{name:"image",listType:"picture",maxCount:1,beforeUpload:()=>!1,onChange:a=>{if(a.fileList.length>0){const u=a.fileList[0].originFileObj;if(u.size>2097152){g.error("La taille de l'image ne doit pas dépasser 2Mo"),a.fileList.pop();return}C(u)}else C(null)},children:e.jsx(k,{icon:e.jsx(J,{}),children:"Upload"})})}),e.jsx(p.Item,{children:e.jsx(k,{type:"primary",htmlType:"submit",children:"Ajouter"})})]})}),e.jsx(N,{title:"Modifier un produit",open:D,onCancel:te,footer:null,children:e.jsxs(p,{form:t,onFinish:$,layout:"vertical",children:[e.jsx(p.Item,{name:"title",label:"Nom du produit",rules:[{required:!0,message:"Veuillez entrer le nom du produit"}],children:e.jsx(S,{value:f,onChange:a=>y(a.target.value)})}),e.jsx(p.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Veuillez entrer la description du produit"}],children:e.jsx(S.TextArea,{value:w,onChange:a=>b(a.target.value)})}),e.jsx(p.Item,{name:"price",label:"Prix",rules:[{required:!0,message:"Veuillez entrer le prix du produit"}],children:e.jsx(S,{value:v,onChange:a=>h(a.target.value)})}),e.jsx(p.Item,{name:"image",label:"Image du produit",valuePropName:"fileList",getValueFromEvent:a=>Array.isArray(a)?a:a&&a.fileList,children:e.jsx(Z,{name:"image",listType:"picture",maxCount:1,beforeUpload:()=>!1,onChange:a=>{if(a.fileList.length>0){const u=a.fileList[0].originFileObj;if(u.size>2097152){g.error("La taille de l'image ne doit pas dépasser 2Mo"),a.fileList.pop();return}C(u)}else C(null)},children:e.jsx(k,{icon:e.jsx(J,{}),children:"Upload"})})}),e.jsx(p.Item,{children:e.jsx(k,{type:"primary",htmlType:"submit",children:"Update"})})]})}),e.jsx(N,{title:"Détails du produit",open:O,onCancel:X,destroyOnClose:!0,children:c&&e.jsxs("div",{children:[e.jsx("h2",{children:c.title}),e.jsxs(ie,{children:[e.jsx(z,{span:12,children:e.jsx(A,{width:200,src:(i=c==null?void 0:c.image)==null?void 0:i.url,placeholder:e.jsx(A,{src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200",width:100}),style:{maxWidth:"100%",height:"auto",display:"block",margin:"auto"}})}),e.jsxs(z,{span:12,children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Prix:"})," ",c.price]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",c.createdAt?new Date(c.createdAt).toISOString().split("T")[0]:"Date non disponible"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",c.createdAt?new Date(c.createdAt).toTimeString().split(" ")[0]:"Heure non disponible"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",c.description]})]})]})]})})]})},Ce=ne({name:"contact",initialState:{contact:null,loading:!1,contactsCount:null,isContactCreated:!1,contacts:[]},reducers:{setContact(t,s){t.contact=s.payload},deleteContact(t,s){t.contacts=t.contacts.filter(r=>r._id!==s.payload)},setLoading(t){t.loading=!0},clearLoading(t){t.loading=!1},setContactsCount(t,s){t.contactsCount=s.payload},setContacts(t,s){t.contacts=s.payload}}}),Xe=Ce.reducer,re=Ce.actions;function et(t){return async(s,r)=>{try{const{data:n}=await j.get(`/contact/${t}`,{headers:{Authorization:"Bearer "+r().auth.user.token}});s(re.setContact(n))}catch(n){x.error(n.response.data.message)}}}function tt(t){return async(s,r)=>{try{s(re.setLoading());const{data:n}=await j.delete(`/contact/delete/${t}`,{headers:{Authorization:"Bearer "+r().auth.user.token}});s(re.deleteContact(t)),x.success(n.message),s(re.clearLoading())}catch(n){x.error(n.response.data.message),s(re.clearLoading())}}}function st(){return async(t,s)=>{try{const{data:r}=await j.get("contact/all",{headers:{Authorization:"Bearer "+s().auth.user.token}});t(re.setContacts(r))}catch{t(re.clearLoading())}}}function at(){const t=K(),s=P(m=>m.contact.contacts),{loading:r,isPostCreated:n}=P(m=>m.contact),l=P(m=>m.contact.contact);d.useState(!1);const[c,f]=d.useState(!1),{confirm:y}=N;d.useEffect(()=>{t(st())},[t]);const w=m=>{f(!0),t(et(m))},b=()=>{f(!1)},v=m=>{y({title:"Are you sure you want to delete this partner?",content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk:()=>{t(tt(m)),g.success("Partner deleted successfully")},onCancel(){g.info("Deletion canceled")}})},h=[{title:"name ",dataIndex:"name",key:"name",render:m=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:m})},{title:"Email",dataIndex:"email",key:"email",render:m=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:m})},{title:"Country",dataIndex:"country",key:"country",render:m=>e.jsx("span",{style:{display:"inline-block",maxWidth:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:m})},{title:"Phone",dataIndex:"phone",key:"phone",render:m=>e.jsx("span",{style:{display:"inline-block",maxWidth:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:m})},{title:"Message",dataIndex:"message",key:"message",render:m=>e.jsx("span",{style:{display:"inline-block",maxWidth:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:m})},{title:"Actions",key:"actions",render:(m,C)=>e.jsxs(ce,{size:"middle",children:[e.jsx(ue,{style:{fontSize:"20px",cursor:"pointer",marginLeft:"20px"},onClick:()=>w(C._id)}),e.jsx(pe,{style:{fontSize:"20px",color:"red",cursor:"pointer",marginLeft:"20px"},onClick:()=>v(C==null?void 0:C._id)})]})}];return e.jsxs("div",{children:[e.jsx(de,{columns:h,dataSource:s,loading:r,rowKey:"_id"}),e.jsx(N,{title:"Détails du contact",open:c,onCancel:b,destroyOnClose:!0,children:l&&e.jsxs("div",{children:[e.jsx("h2",{children:l.name}),e.jsxs(ie,{children:[e.jsxs(z,{span:12,children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",l.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",l.country]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",l.phone]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(l.created_at).toISOString().split("T")[0]]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",new Date(l.created_at).toTimeString().split(" ")[0]]})]}),e.jsx(z,{span:12,children:e.jsxs("p",{children:[e.jsx("strong",{children:"Message:"})," ",l.message]})})]})]})})]})}const Se=ne({name:"partner",initialState:{partner:null,loading:!1,partnersCount:null,isPartnerCreated:!1,partners:[]},reducers:{setPartner(t,s){t.partner=s.payload},addPartner(t,s){t.partners.push(s.payload)},updatePartner(t,s){const r=t.partners.findIndex(n=>n._id===s.payload._id);r!==-1&&(t.partners[r]=s.payload)},deletePartner(t,s){t.partners=t.partners.filter(r=>r._id!==s.payload)},setLoading(t){t.loading=!0},clearLoading(t){t.loading=!1},setPartnersCount(t,s){t.partnersCount=s.payload},setPartners(t,s){t.partners=s.payload}}}),rt=Se.reducer,M=Se.actions;function nt(t){return async s=>{try{const{data:r}=await j.get(`/partner/${t}`);s(M.setPartner(r))}catch(r){x.error(r.response.data.message)}}}function it(t){return async(s,r)=>{try{const{data:n}=await j.post("/partner",t,{headers:{Authorization:"Bearer "+r().auth.user.token}});s(M.addPartner(n)),x.success(n.message)}catch{}}}function lt(t,s){return async(r,n)=>{try{const{data:l}=await j.put(`/partner/${t}`,s,{headers:{Authorization:"Bearer "+n().auth.user.token}});r(M.updatePartner(l)),x.success(l.message)}catch{}}}function ot(t){return async(s,r)=>{try{s(M.setLoading());const{data:n}=await j.delete(`/partner/delete/${t}`,{headers:{Authorization:"Bearer "+r().auth.user.token}});s(M.deletePartner(t)),x.success(n.message),s(M.clearLoading())}catch{s(M.clearLoading())}}}function dt(){return async(t,s)=>{try{t(M.setLoading());const{data:r}=await j.get("partner/all",{headers:{Authorization:"Bearer "+s().auth.user.token}});t(M.setPartners(r)),t(M.clearLoading())}catch(r){x.error(r.response.data.message),t(M.clearLoading())}}}function ct(){var o;const[t]=p.useForm(),s=K(),r=P(i=>i.partner.partners.partners),n=P(i=>i.partner.loading),l=P(i=>i.partner.partner),[c,f]=d.useState(""),[y,w]=d.useState(""),[b,v]=d.useState(""),[h,m]=d.useState(null),[C,L]=d.useState(!1),[I,D]=d.useState(!1),[_,O]=d.useState(!1),[q,R]=d.useState(null),{confirm:B}=N;d.useEffect(()=>{s(dt())},[s]);const H=()=>{t.resetFields(),R(null),m(null),L(!0)},G=i=>{R(i),t.setFieldsValue({name:i.name,website:i.website,description:i.description}),D(!0)},Y=()=>{D(!1)},Q=i=>{O(!0),s(nt(i))},X=()=>{O(!1)},ee=()=>{L(!1)},te=i=>{B({title:"Are you sure you want to delete this partner?",content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk:()=>{s(ot(i)),g.success("Partner deleted successfully")},onCancel(){g.info("Deletion canceled")}})},se=async i=>{try{const a=new FormData;if(a.append("name",c),a.append("description",y!==""?y:"no description"),a.append("website",b!==""?b:"no website"),h)a.append("image",h);else{g.error("Please select an image.");return}s(it(a)),L(!1),t.resetFields(),g.success("Partner added successfully")}catch{g.error("Error adding partner")}},ae=async i=>{const a={name:i.name,website:i.website,description:i.description};h&&(a.image=h),await s(lt(q._id,a)),L(!1),t.resetFields(),m(null),D(!1),g.success("Partner updated successfully!")},$=[{title:"Partner Name",dataIndex:"name",key:"name",render:i=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:i})},{title:"Description",dataIndex:"description",key:"description",render:i=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:i})},{title:"Website",dataIndex:"website",key:"website",render:i=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:i})},{title:"Image",dataIndex:"image",key:"image",render:(i,a)=>{var u;return e.jsx(A,{width:50,src:(u=a==null?void 0:a.image)==null?void 0:u.url,placeholder:e.jsx(A,{src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200",width:50})})}},{title:"Actions",key:"actions",render:(i,a)=>e.jsxs(ce,{size:"middle",children:[e.jsx(ue,{style:{fontSize:"20px",cursor:"pointer",marginLeft:"20px"},onClick:()=>Q(a==null?void 0:a._id)}),e.jsx(he,{style:{fontSize:"20px",cursor:"pointer",marginLeft:"20px"},onClick:()=>G(a)}),e.jsx(pe,{style:{fontSize:"20px",color:"red",cursor:"pointer",marginLeft:"20px"},onClick:()=>te(a==null?void 0:a._id)})]})}];return e.jsxs("div",{children:[e.jsx(k,{type:"primary",onClick:H,style:{marginBottom:16},children:"Add Partner"}),e.jsx(de,{columns:$,dataSource:r,loading:n,rowKey:"_id"}),e.jsx(N,{name:"Add Partner",open:C,onCancel:ee,footer:null,children:e.jsxs(p,{form:t,onFinish:se,layout:"vertical",children:[e.jsx(p.Item,{name:"name",label:"Partner Name",rules:[{required:!0,message:"Please enter the partner name"}],children:e.jsx(S,{value:c,onChange:i=>f(i.target.value)})}),e.jsx(p.Item,{name:"description",label:"Description",children:e.jsx(S.TextArea,{value:y,onChange:i=>w(i.target.value)})}),e.jsx(p.Item,{name:"website",label:"Website",children:e.jsx(S,{value:b,onChange:i=>v(i.target.value)})}),e.jsx(p.Item,{name:"image",label:"Partner Image",valuePropName:"fileList",getValueFromEvent:i=>Array.isArray(i)?i:i&&i.fileList,rules:[{required:!0,message:"Please select an image"}],children:e.jsx(Z,{name:"image",listType:"picture",maxCount:1,beforeUpload:()=>!1,onChange:i=>{if(i.fileList.length>0){const a=i.fileList[0].originFileObj;if(a.size>2097152){g.error("La taille de l'image ne doit pas dépasser 2Mo"),i.fileList.pop();return}m(a)}else m(null)},showUploadList:{showPreviewIcon:!1},children:e.jsx(k,{icon:e.jsx(J,{}),children:"Upload"})})}),e.jsx(p.Item,{children:e.jsx(k,{type:"primary",htmlType:"submit",loading:n,children:"Add Partner"})})]})}),e.jsx(N,{title:"Edit Partner",visible:I,onCancel:Y,footer:null,children:e.jsxs(p,{form:t,onFinish:ae,layout:"vertical",children:[e.jsx(p.Item,{name:"name",label:"Partner Name",rules:[{required:!0,message:"Please enter the partner name"}],children:e.jsx(S,{})}),e.jsx(p.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter the partner description"}],children:e.jsx(S.TextArea,{})}),e.jsx(p.Item,{name:"website",label:"Website",rules:[{required:!0,message:"Please enter the partner website"}],children:e.jsx(S,{})}),e.jsx(p.Item,{name:"image",label:"Partner Image",valuePropName:"fileList",getValueFromEvent:i=>Array.isArray(i)?i:i&&i.fileList,children:e.jsx(Z,{name:"image",listType:"picture",maxCount:1,beforeUpload:()=>!1,onChange:i=>{if(i.fileList.length>0){const a=i.fileList[0].originFileObj;if(a.size>2097152){g.error("La taille de l'image ne doit pas dépasser 2Mo"),i.fileList.pop();return}m(a)}else m(null)},showUploadList:{showPreviewIcon:!1},children:e.jsx(k,{icon:e.jsx(J,{}),children:"Upload"})})}),e.jsx(p.Item,{children:e.jsx(k,{type:"primary",htmlType:"submit",loading:n,children:"Update Partner"})})]})}),e.jsx(N,{title:"Partner Details",visible:_,onCancel:X,footer:null,children:l?e.jsx("div",{children:e.jsxs(ie,{children:[e.jsx(z,{span:24,children:e.jsx(A,{width:200,src:((o=l.image)==null?void 0:o.url)||"https://via.placeholder.com/200",alt:"Partner"})}),e.jsxs(z,{span:24,children:[e.jsx("h3",{children:l.name}),e.jsx("p",{children:l.description}),e.jsx("a",{href:l.website,target:"_blank",rel:"noopener noreferrer",children:l.website})]})]})}):e.jsx("p",{children:"No details available"})})]})}const Pe=ne({name:"user",initialState:{user:null,loading:!1,usersCount:null,isUserCreated:!1,users:[]},reducers:{setUser(t,s){t.user=s.payload},addUser(t,s){t.users.push(s.payload)},updateUser(t,s){const r=t.users.findIndex(n=>n._id===s.payload._id);r!==-1&&(t.users[r]=s.payload)},deleteUser(t,s){t.users=t.users.filter(r=>r._id!==s.payload)},setLoading(t){t.loading=!0},clearLoading(t){t.loading=!1},setUsersCount(t,s){t.usersCount=s.payload},setUsers(t,s){t.users=s.payload}}}),ut=Pe.reducer,F=Pe.actions;function pt(t){return async s=>{try{const{data:r}=await j.get(`/user/${t}`);s(F.setUser(r))}catch(r){x.error(r.response.data.message)}}}function mt(t){return async(s,r)=>{try{const{data:n}=await j.post("/user",t,{headers:{Authorization:"Bearer "+r().auth.user.token}});s(F.addUser(n)),x.success(n.message)}catch(n){x.error(n.response.data.message)}}}function ht(t,s){return async(r,n)=>{try{const{data:l}=await j.put(`/user/${t}`,s,{headers:{Authorization:"Bearer "+n().auth.user.token}});r(F.updateUser(l)),x.success(l.message)}catch(l){x.error(l.response.data.message)}}}function xt(t){return async(s,r)=>{try{s(F.setLoading());const{data:n}=await j.delete(`/user/delete/${t}`,{headers:{Authorization:"Bearer "+r().auth.user.token}});s(F.deleteUser(t)),x.success(n.message),s(F.clearLoading())}catch(n){x.error(n.response.data.message),s(F.clearLoading())}}}function gt(){return async(t,s)=>{try{t(F.setLoading());const{data:r}=await j.get("/user/all",{headers:{Authorization:"Bearer "+s().auth.user.token}});t(F.setUsers(r)),t(F.clearLoading())}catch(r){x.error(r.response.data.message),t(F.clearLoading())}}}const ft=()=>{var i;const[t]=p.useForm(),s=K(),r=P(a=>a.user.users),{loading:n,isPostCreated:l}=P(a=>a.user),c=P(a=>a.user.user),[f,y]=d.useState(""),[w,b]=d.useState(""),[v,h]=d.useState(0),[m,C]=d.useState(null),[L,I]=d.useState(!1),[D,_]=d.useState(!1),[O,q]=d.useState(!1),[R,B]=d.useState(null),{confirm:H}=N;d.useEffect(()=>{s(gt())},[s]);const G=()=>{t.resetFields(),B(null),C(null),I(!0)},Y=a=>{B(a),t.setFieldsValue({title:a.title,price:a.price,description:a.description}),_(!0)},Q=a=>{q(!0),s(pt(a))},X=()=>{q(!1)},ee=()=>{I(!1)},te=()=>{_(!1)},se=a=>{H({title:"Are you sure you want to delete this partner?",content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk:()=>{s(xt(a)),g.success("Partner deleted successfully")},onCancel(){g.info("Deletion canceled")}})},ae=async a=>{try{const u=new FormData;if(u.append("title",f),u.append("price",v),u.append("description",w),m)u.append("image",m);else{g.error("Veuillez sélectionner une image.");return}await s(mt(u)),I(!1),t.resetFields(),g.success("Produit ajouté avec succès")}catch{g.error("Erreur lors de l'ajout du produit")}},$=async a=>{const u={title:a.title,price:a.price,description:a.description};m&&(u.image=m),await s(ht(R._id,u)),I(!1),t.resetFields(),C(null),_(!1),g.success("Produit mis à jour avec succès!")},o=[{title:"Name",dataIndex:"name",key:"name",render:a=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a})},{title:"Email",dataIndex:"email",key:"email",render:a=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a})},{title:"Image",dataIndex:"profilePhoto",key:"image",render:(a,u)=>{var W;return e.jsx(A,{width:50,src:(W=u==null?void 0:u.image)==null?void 0:W.url,placeholder:e.jsx(A,{src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200",width:50})})}},{title:"Actions",key:"actions",render:(a,u)=>e.jsxs(ce,{size:"middle",children:[e.jsx(ue,{style:{fontSize:"20px",cursor:"pointer",marginLeft:"20px"},onClick:()=>Q(u._id)}),e.jsx(he,{style:{fontSize:"20px",cursor:"pointer",marginLeft:"20px"},onClick:()=>Y(u)}),e.jsx(pe,{style:{fontSize:"20px",color:"red",cursor:"pointer",marginLeft:"20px"},onClick:()=>se(u._id)})]})}];return e.jsxs("div",{children:[e.jsx(k,{type:"primary",onClick:G,style:{marginBottom:16},children:"Ajouter un produit"}),e.jsx(de,{columns:o,dataSource:r,loading:n,rowKey:"_id"}),e.jsx(N,{title:"Ajouter un produit",open:L,onCancel:ee,footer:null,children:e.jsxs(p,{form:t,onFinish:ae,layout:"vertical",children:[e.jsx(p.Item,{name:"title",label:"Nom du produit",rules:[{required:!0,message:"Veuillez entrer le nom du produit"}],children:e.jsx(S,{value:f,onChange:a=>y(a.target.value)})}),e.jsx(p.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Veuillez entrer la description du produit"}],children:e.jsx(S.TextArea,{value:w,onChange:a=>b(a.target.value)})}),e.jsx(p.Item,{name:"price",label:"Prix",rules:[{required:!0,message:"Veuillez entrer le prix du produit"}],children:e.jsx(S,{value:v,onChange:a=>h(a.target.value)})}),e.jsx(p.Item,{name:"image",label:"Image du produit",valuePropName:"fileList",getValueFromEvent:a=>Array.isArray(a)?a:a&&a.fileList,rules:[{required:!0,message:"Veuillez sélectionner une image"}],children:e.jsx(Z,{name:"image",listType:"picture",maxCount:1,beforeUpload:()=>!1,onChange:a=>{if(a.fileList.length>0){const u=a.fileList[0].originFileObj;if(u.size>2097152){g.error("La taille de l'image ne doit pas dépasser 2Mo"),a.fileList.pop();return}C(u)}else C(null)},children:e.jsx(k,{icon:e.jsx(J,{}),children:"Upload"})})}),e.jsx(p.Item,{children:e.jsx(k,{type:"primary",htmlType:"submit",children:"Ajouter"})})]})}),e.jsx(N,{title:"Modifier un produit",open:D,onCancel:te,footer:null,children:e.jsxs(p,{form:t,onFinish:$,layout:"vertical",children:[e.jsx(p.Item,{name:"title",label:"Nom du produit",rules:[{required:!0,message:"Veuillez entrer le nom du produit"}],children:e.jsx(S,{value:f,onChange:a=>y(a.target.value)})}),e.jsx(p.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Veuillez entrer la description du produit"}],children:e.jsx(S.TextArea,{value:w,onChange:a=>b(a.target.value)})}),e.jsx(p.Item,{name:"price",label:"Prix",rules:[{required:!0,message:"Veuillez entrer le prix du produit"}],children:e.jsx(S,{value:v,onChange:a=>h(a.target.value)})}),e.jsx(p.Item,{name:"image",label:"Image du produit",valuePropName:"fileList",getValueFromEvent:a=>Array.isArray(a)?a:a&&a.fileList,children:e.jsx(Z,{name:"image",listType:"picture",maxCount:1,beforeUpload:()=>!1,onChange:a=>{if(a.fileList.length>0){const u=a.fileList[0].originFileObj;if(u.size>2097152){g.error("La taille de l'image ne doit pas dépasser 2Mo"),a.fileList.pop();return}C(u)}else C(null)},children:e.jsx(k,{icon:e.jsx(J,{}),children:"Upload"})})}),e.jsx(p.Item,{children:e.jsx(k,{type:"primary",htmlType:"submit",children:"Update"})})]})}),e.jsx(N,{title:"Détails du produit",open:O,onCancel:X,destroyOnClose:!0,children:c&&e.jsxs("div",{children:[e.jsx("h2",{children:c.name}),e.jsxs(ie,{children:[e.jsx(z,{span:12,children:e.jsx(A,{width:200,src:(i=c==null?void 0:c.image)==null?void 0:i.url,placeholder:e.jsx(A,{src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200",width:100}),style:{maxWidth:"100%",height:"auto",display:"block",margin:"auto"}})}),e.jsxs(z,{span:12,children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",c.createdAt?new Date(c.createdAt).toISOString().split("T")[0]:"Date non disponible"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",c.createdAt?new Date(c.createdAt).toTimeString().split(" ")[0]:"Heure non disponible"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",c.email]})]})]})]})})]})},ke=ne({name:"award",initialState:{award:null,loading:!1,awardsCount:null,isAwardCreated:!1,awards:[]},reducers:{setAward(t,s){t.award=s.payload},addAward(t,s){t.awards.push(s.payload)},updateAward(t,s){const r=t.awards.findIndex(n=>n._id===s.payload._id);r!==-1&&(t.awards[r]=s.payload)},deleteAward(t,s){t.awards=t.awards.filter(r=>r._id!==s.payload)},setLoading(t){t.loading=!0},clearLoading(t){t.loading=!1},setAwardsCount(t,s){t.awardsCount=s.payload},setAwards(t,s){t.awards=s.payload}}}),jt=ke.reducer,T=ke.actions;function yt(t){return async s=>{try{const{data:r}=await j.get(`/award/${t}`);s(T.setAward(r))}catch(r){x.error(r.response.data.message)}}}function wt(t){return async(s,r)=>{try{const{data:n}=await j.post("/award",t,{headers:{Authorization:"Bearer "+r().auth.user.token}});s(T.addAward(n)),x.success(n.message)}catch(n){x.error(n.response.data.message)}}}function bt(t,s){return async(r,n)=>{try{const{data:l}=await j.put(`/award/${t}`,s,{headers:{Authorization:"Bearer "+n().auth.user.token}});r(T.updateAward(l)),x.success(l.message)}catch(l){x.error(l.response.data.message)}}}function vt(t){return async(s,r)=>{try{s(T.setLoading());const{data:n}=await j.delete(`/award/delete/${t}`,{headers:{Authorization:"Bearer "+r().auth.user.token}});s(T.deleteAward(t)),x.success(n.message),s(T.clearLoading())}catch(n){x.error(n.response.data.message),s(T.clearLoading())}}}function Ct(){return async(t,s)=>{try{t(T.setLoading());const{data:r}=await j.get("/award/all",{headers:{Authorization:"Bearer "+s().auth.user.token}});t(T.setAwards(r)),t(T.clearLoading())}catch(r){x.error(r.response.data.message),t(T.clearLoading())}}}const St=()=>{var $;const[t]=p.useForm(),s=K(),r=P(o=>o.award.awards),n=P(o=>o.award.award),{loading:l}=P(o=>o.award),[c,f]=d.useState(""),[y,w]=d.useState(""),[b,v]=d.useState(null),[h,m]=d.useState(null),[C,L]=d.useState(!1),[I,D]=d.useState(!1),[_,O]=d.useState(!1),[q,R]=d.useState(null);d.useEffect(()=>{s(Ct())},[s]);const B=()=>{t.resetFields(),R(null),m(null),L(!0)},H=o=>{R(o),t.setFieldsValue({title:o.title,date:o.date?ze(o.date):null,description:o.description}),D(!0)},G=o=>{O(!0),s(yt(o))},Y=()=>{O(!1)},Q=()=>{L(!1)},X=()=>{D(!1)},ee=o=>{s(vt(o))},te=async o=>{try{const i=new FormData;if(i.append("title",o.title),i.append("date",o.date?o.date.toISOString():null),i.append("description",y!==""?y:"no description"),h)i.append("image",h);else{g.error("Veuillez sélectionner une image.");return}await s(wt(i)),L(!1),t.resetFields(),g.success("Award ajouté avec succès")}catch{g.error("Erreur lors de l'ajout de l'award")}finally{f(""),w(""),v(null),m(null)}},se=async o=>{const i={title:o.title,date:o.date?o.date.toISOString():null,description:o.description};h&&(i.image=h),await s(bt(q._id,i)),D(!1),t.resetFields(),m(null),g.success("Award mis à jour avec succès!")},ae=[{title:"Nom du award",dataIndex:"title",key:"title",render:o=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o})},{title:"Description",dataIndex:"description",key:"description",render:o=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o})},{title:"Date",dataIndex:"date",key:"date",render:o=>e.jsx("span",{style:{display:"inline-block",maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o?new Date(o).toLocaleDateString():""})},{title:"Image",dataIndex:"image",key:"image",render:(o,i)=>{var a;return e.jsx(A,{width:50,src:(a=i==null?void 0:i.image)==null?void 0:a.url,placeholder:e.jsx(A,{src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200",width:50})})}},{title:"Actions",key:"actions",render:(o,i)=>e.jsxs(ce,{size:"middle",children:[e.jsx(ue,{style:{fontSize:"20px",cursor:"pointer",marginLeft:"20px"},onClick:()=>G(i._id)}),e.jsx(he,{style:{fontSize:"20px",cursor:"pointer",marginLeft:"20px"},onClick:()=>H(i)}),e.jsx(pe,{style:{fontSize:"20px",color:"red",cursor:"pointer",marginLeft:"20px"},onClick:()=>ee(i._id)})]})}];return e.jsxs("div",{children:[e.jsx(k,{type:"primary",onClick:B,style:{marginBottom:16},children:"Ajouter un award"}),e.jsx(de,{columns:ae,dataSource:r,loading:l,rowKey:"_id"}),e.jsx(N,{title:"Ajouter un award",open:C,onCancel:Q,footer:null,children:e.jsxs(p,{form:t,onFinish:te,layout:"vertical",children:[e.jsx(p.Item,{name:"title",label:"Nom du award",rules:[{required:!0,message:"Veuillez entrer le nom du award"}],children:e.jsx(S,{value:c,onChange:o=>f(o.target.value)})}),e.jsx(p.Item,{name:"description",label:"Description",children:e.jsx(S.TextArea,{value:y,onChange:o=>w(o.target.value)})}),e.jsx(p.Item,{name:"date",label:"Date",rules:[{required:!0,message:"Veuillez entrer la date du award"}],children:e.jsx(je,{style:{width:"100%"},value:b,onChange:o=>v(o)})}),e.jsx(p.Item,{name:"image",label:"Image du award",valuePropName:"fileList",getValueFromEvent:o=>Array.isArray(o)?o:o&&o.fileList,rules:[{required:!0,message:"Veuillez sélectionner une image"}],children:e.jsx(Z,{name:"image",listType:"picture",maxCount:1,beforeUpload:()=>!1,onChange:o=>{if(o.fileList.length>0){const i=o.fileList[0].originFileObj;if(i.size>2097152){g.error("La taille de l'image ne doit pas dépasser 2Mo"),o.fileList.pop();return}m(i)}else m(null)},children:e.jsx(k,{icon:e.jsx(J,{}),children:"Cliquer pour télécharger"})})}),e.jsx(p.Item,{children:e.jsx(k,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Ajouter"})})]})}),e.jsx(N,{title:"Modifier un award",open:I,onCancel:X,footer:null,children:e.jsxs(p,{form:t,onFinish:se,layout:"vertical",children:[e.jsx(p.Item,{name:"title",label:"Nom du award",rules:[{required:!0,message:"Veuillez entrer le nom du award"}],children:e.jsx(S,{value:c,onChange:o=>f(o.target.value)})}),e.jsx(p.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Veuillez entrer la description du award"}],children:e.jsx(S.TextArea,{value:y,onChange:o=>w(o.target.value)})}),e.jsx(p.Item,{name:"date",label:"Date",rules:[{required:!0,message:"Veuillez entrer la date du award"}],children:e.jsx(je,{style:{width:"100%"},value:b,onChange:o=>v(o)})}),e.jsx(p.Item,{name:"image",label:"Image du award",valuePropName:"fileList",getValueFromEvent:o=>Array.isArray(o)?o:o&&o.fileList,children:e.jsx(Z,{name:"image",listType:"picture",maxCount:1,beforeUpload:()=>!1,onChange:o=>{if(o.fileList.length>0){const i=o.fileList[0].originFileObj;if(i.size>2097152){g.error("La taille de l'image ne doit pas dépasser 2Mo"),o.fileList.pop();return}m(i)}else m(null)},children:e.jsx(k,{icon:e.jsx(J,{}),children:"Cliquer pour télécharger"})})}),e.jsx(p.Item,{children:e.jsx(k,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Modifier"})})]})}),e.jsx(N,{title:"Détails du award",open:_,onCancel:Y,footer:null,children:n&&e.jsxs(ie,{gutter:[16,16],children:[e.jsx(z,{span:8,children:e.jsx(A,{src:($=n==null?void 0:n.image)==null?void 0:$.url})}),e.jsxs(z,{span:16,children:[e.jsx("h3",{children:n.title}),e.jsx("p",{children:new Date(n.date).toLocaleDateString()}),e.jsx("p",{children:n.description})]})]})})]})},we=()=>{var s;const t=P(r=>r.user.currentUser);return t?e.jsx("div",{className:"account-container",children:e.jsx(De,{title:"Votre compte",bordered:!1,style:{width:300},children:e.jsxs(ie,{gutter:16,children:[e.jsx(z,{span:24,className:"account-photo",children:e.jsx(A,{width:100,src:((s=t==null?void 0:t.profilePhoto)==null?void 0:s.url)||"https://via.placeholder.com/100",alt:"Photo de profil"})}),e.jsxs(z,{span:24,className:"account-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nom :"})," ",t.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email :"})," ",t.email]})]})]})})}):e.jsx("p",{children:"Chargement des informations de l'utilisateur..."})};const Pt="/finaladminbionic/assets/alert-5f9fd2da.svg",kt="/finaladminbionic/assets/bell-7e214f78.svg",Nt="/finaladminbionic/assets/bills-ec86732e.svg",At="/finaladminbionic/assets/budget-142214ed.svg",It="/finaladminbionic/assets/card-5f2e3e29.svg",Lt="/finaladminbionic/assets/check-a0f76bfd.svg",zt="/finaladminbionic/assets/empty_check-312b92e3.svg",Dt="/finaladminbionic/assets/gears-fb508e49.svg",_t="/finaladminbionic/assets/home-ac4f5a71.svg",Ut="/finaladminbionic/assets/menu-276d5c65.svg",Vt="/finaladminbionic/assets/plane-35b00854.svg",Et="/finaladminbionic/assets/plus-7a3e48c4.svg",Mt="/finaladminbionic/assets/report-23034c8b.svg",Ft="/finaladminbionic/assets/search-5de1f588.svg",Tt="/finaladminbionic/assets/user-cf03effc.svg",Ot="/finaladminbionic/assets/wallet-13f2d9de.svg",qt="/finaladminbionic/assets/wealth-436469c0.svg",V={alert:Pt,bell:kt,bills:Nt,budget:At,card:It,check:Lt,empty_check:zt,gears:Dt,home:_t,menu:Ut,plane:Vt,plus:Et,report:Mt,search:Ft,user:Tt,wallet:Ot,wealth:qt};const Rt=(t,s)=>{if(s.type==="TOGGLE_SIDEBAR")return{...t,isSidebarOpen:!t.isSidebarOpen};throw new Error(`No matching "${s.type} action type`)},Bt={isSidebarOpen:!1},ge=d.createContext({}),Ne=({children:t})=>{const[s,r]=d.useReducer(Rt,Bt),n=()=>{r({type:"TOGGLE_SIDEBAR"})};return e.jsx(ge.Provider,{value:{...s,toggleSidebar:n},children:t})};Ne.propTypes={children:_e.node};const Wt=()=>{const{toggleSidebar:t}=d.useContext(ge),[s,r]=d.useState(!1),n=d.useRef(null),{user:l}=P(v=>v.auth),c=xe(),f=K(),y=()=>{r(!s)},w=v=>{n.current&&!n.current.contains(v.target)&&r(!1)};d.useEffect(()=>(document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}),[]);const b=()=>{f(Be()),c("/login")};return e.jsxs("div",{className:"main-content-top",children:[e.jsxs("div",{className:"content-top-left",children:[e.jsx("button",{type:"button",className:"sidebar-toggler",onClick:t,children:e.jsx("img",{src:V.menu,alt:"Menu"})}),e.jsx("h3",{className:"content-top-title",children:"Home"})]}),e.jsxs("div",{className:"content-top-btns",children:[e.jsx("button",{type:"button",className:"search-btn content-top-btn",children:e.jsx("img",{src:V.search,alt:"Search"})}),e.jsxs("button",{className:"notification-btn content-top-btn",children:[e.jsx("img",{src:V.bell,alt:"Notifications"}),e.jsx("span",{className:"notification-btn-dot"})]}),e.jsxs("div",{className:"user-dropdown",ref:n,children:[e.jsx("button",{className:"dropdown-toggle content-top-btn",onClick:y,children:e.jsx("img",{src:V.user,alt:"User"})}),s&&e.jsxs("div",{className:"dropdown-menu dropdown-menu-right show",children:[e.jsx("a",{className:"dropdown-item",children:l==null?void 0:l.email}),e.jsx(me,{to:"/account",className:"dropdown-item",children:"Account"}),e.jsx(me,{to:"/settings",className:"dropdown-item",children:"Settings"}),e.jsx("span",{onClick:b,className:"dropdown-item",style:{cursor:"pointer"},children:"Logout"})]})]})]})]})},$t=[{id:1,title:"Home",path:"/dashboard",image:V.home},{id:2,title:"Users",path:"/dashboard/user",image:V.budget},{id:3,title:"Contact",path:"/dashboard/contact",image:V.plane},{id:4,title:"Products",path:"/dashboard/product",image:V.wallet},{id:5,title:"Awards",path:"/dashboard/award",image:V.bills},{id:9,title:"Account",path:"/dashboard/account",image:V.user},{id:10,title:"Settings",path:"/dashboard/settings",image:V.gears}];const Zt=()=>{const[t,s]=d.useState(""),{isSidebarOpen:r}=d.useContext(ge);d.useEffect(()=>{s(r?"sidebar-change":"")},[r]);const{user:n}=P(l=>l.auth);return e.jsxs("div",{className:`sidebar ${t}`,children:[e.jsx("div",{className:"user-info",children:e.jsxs("span",{className:"nav-link text-body font-weight-bold px-0",style:{cursor:"pointer"},children:[e.jsx("i",{className:"fa fa-user me-sm-1"}),e.jsx("div",{className:"info-img img-fit-cover",children:e.jsx("img",{src:n==null?void 0:n.profilePhoto.url,alt:"profile"})}),e.jsx("a",{className:"dropdown-item",children:n==null?void 0:n.name})]})}),e.jsx("nav",{className:"navigation",children:e.jsx("ul",{className:"nav-list",children:$t.map(l=>e.jsx("li",{className:"nav-item",children:e.jsxs(Ue,{to:l.path,className:({isActive:c})=>`nav-link ${c?"active":""}`,children:[e.jsx("img",{src:l.image,className:"nav-link-icon",alt:l.title}),e.jsx("span",{className:"nav-link-text",children:l.title})]})},l.id))})})]})},Jt=()=>e.jsxs("div",{className:"app",children:[e.jsx(Zt,{}),e.jsxs("div",{className:"main-content",children:[e.jsx(Wt,{}),e.jsx(Ve,{})]})]});function Kt(){const t=P(s=>s.auth.user);return e.jsx(Ee,{basename:{}.PUBLIC_URL,children:e.jsxs(Me,{children:[e.jsx(U,{path:"/register",element:t?e.jsx(le,{to:"/dashboard"}):e.jsx($e,{})}),e.jsx(U,{path:"/login",element:t?e.jsx(le,{to:"/dashboard"}):e.jsx(ye,{})}),e.jsxs(U,{path:"/dashboard",element:t?e.jsx(Jt,{}):e.jsx(le,{to:"/login"}),children:[e.jsx(U,{path:"partner",element:e.jsx(ct,{})}),e.jsx(U,{path:"product",element:e.jsx(Qe,{})}),e.jsx(U,{path:"award",element:e.jsx(St,{})}),e.jsx(U,{path:"contact",element:e.jsx(at,{})}),e.jsx(U,{path:"account",element:e.jsx(we,{})}),e.jsx(U,{path:"settings",element:e.jsx(we,{})}),e.jsx(U,{path:"user",element:t!=null&&t.isSuperAdmin?e.jsx(ft,{}):e.jsx(le,{to:"/dashboard"})})]}),e.jsx(U,{path:"/",element:t?e.jsx(le,{to:"/dashboard"}):e.jsx(ye,{})})]})})}const Ae=ne({name:"password",initialState:{isError:!1},reducers:{setError(t){t.isError=!0}}}),Ht=Ae.reducer;Ae.actions;const Gt=Fe({reducer:{auth:qe,password:Ht,product:Ze,partner:rt,contact:Xe,award:jt,user:ut},devTools:!0});Te.createRoot(document.getElementById("root")).render(e.jsxs(Oe,{store:Gt,children:[" ",e.jsx(Ne,{children:e.jsx(Kt,{})})]}));
